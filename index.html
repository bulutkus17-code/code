<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Code Password</title>
  <style>
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:#ffffff;color:#111}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:100%;max-width:720px;padding:32px;border-radius:16px;background:#ffffff;border:1px solid rgba(0,0,0,0.06);box-shadow:0 8px 30px rgba(0,0,0,0.08)}
    h1{margin:0 0 20px 0;text-align:center;font-size:40px;font-weight:800;color:#111;
      text-shadow:0 0 8px rgba(200,200,200,.9),0 0 18px rgba(120,120,120,.6)}
    .input-row{display:flex;gap:12px;justify-content:center}
    input{flex:1;max-width:420px;padding:14px;border-radius:12px;border:1px solid rgba(0,0,0,.1);font-size:16px}
    button{padding:12px 18px;border-radius:12px;border:none;background:#222;color:#fff;font-weight:700;cursor:pointer}
    .status{text-align:center;margin-top:12px;font-weight:600}

    /* modal */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:50}
    .modal{background:#fff;padding:20px;border-radius:12px;max-width:420px;width:90%}
    .modal input{width:100%;margin-top:8px}

    /* secret */
    #secretBtn{position:fixed;right:16px;bottom:16px;background:#111;color:#fff;padding:10px 12px;border-radius:10px;display:none;cursor:pointer}
  </style>
</head>
<body>

<div class="wrap">
  <div class="card">
    <h1>Code Password...</h1>
    <div class="input-row">
      <input id="codeInput" placeholder="Kod girin" />
      <button id="submitBtn">Gönder</button>
    </div>
    <div id="status" class="status"></div>
  </div>
</div>

<!-- Email modal -->
<div id="emailModal" class="overlay">
  <div class="modal">
    <h3>Ödülü almak için gmailinizi girin</h3>
    <input id="emailInput" placeholder="you@gmail.com" />
    <div style="text-align:right;margin-top:10px">
      <button id="emailSave">Kaydet</button>
    </div>
  </div>
</div>

<button id="secretBtn">●</button>

<script>
(function(){
  const VALID_CODES = ['94576191','20359275','19340756','984752073','230587111'];
  const USED_KEY = 'used_codes_v2';
  const EMAIL_KEY = 'emails_v1';

  const codeInput = document.getElementById('codeInput');
  const submitBtn = document.getElementById('submitBtn');
  const status = document.getElementById('status');
  const emailModal = document.getElementById('emailModal');
  const emailInput = document.getElementById('emailInput');
  const emailSave = document.getElementById('emailSave');
  const secretBtn = document.getElementById('secretBtn');

  function load(key){ try{ return JSON.parse(localStorage.getItem(key)) || [] }catch(e){ return [] } }
  function save(key,val){ try{ localStorage.setItem(key, JSON.stringify(val)) }catch(e){} }

  function updateSecret(){
    const emails = load(EMAIL_KEY);
    secretBtn.style.display = emails.length>0 ? 'block' : 'none';
  }

  submitBtn.onclick = function(){
    const code = codeInput.value.trim();
    if(!code){ status.textContent='Kod girin'; return; }
    if(!VALID_CODES.includes(code)){ status.textContent='Kod yanlış'; return; }

    const used = load(USED_KEY);
    if(used.includes(code)){ status.textContent='Bu kod zaten kullanıldı'; return; }

    used.push(code);
    save(USED_KEY, used);
    status.textContent='';
    emailModal.style.display='flex';
  };

  emailSave.onclick = function(){
    const mail = emailInput.value.trim();
    if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(mail)){
      alert('Geçerli gmail girin'); return;
    }
    const emails = load(EMAIL_KEY);
    emails.push(mail);
    save(EMAIL_KEY, emails);
    emailInput.value='';
    emailModal.style.display='none';
    updateSecret();
  };

  secretBtn.onclick = function(){
    const p = prompt('Şifre:');
    if(p !== '777'){ alert('Şifre yanlış'); return; }
    const emails = load(EMAIL_KEY);
    alert('Kayıtlı emailler:\n\n' + emails.join('\n'));
  };

  updateSecret();
})();
</script>

</body>
</html>
